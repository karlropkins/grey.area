<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>grey.area geo tools — geo.tools • grey.area</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="grey.area geo tools — geo.tools"><meta name="description" content="Some functions for use with (latitude, longitude)
coordinates."><meta property="og:description" content="Some functions for use with (latitude, longitude)
coordinates."><meta property="og:image" content="https://karlropkins.github.io/grey.area/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="inverse" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">grey.area</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.18</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/karlropkins/grey.area/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>grey.area geo tools</h1>
      <small class="dont-index">Source: <a href="https://github.com/karlropkins/grey.area/blob/HEAD/R/geo.tools.R" class="external-link"><code>R/geo.tools.R</code></a></small>
      <div class="d-none name"><code>geo.tools.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Some functions for use with (latitude, longitude)
coordinates.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">geoFrame</span><span class="op">(</span><span class="va">lat</span>, lon <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span>, pair.lat.lon <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">geoBearing</span><span class="op">(</span><span class="va">lat</span>, lon <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">geoDistance</span><span class="op">(</span><span class="va">lat</span>, lon <span class="op">=</span> <span class="cn">NULL</span>, units <span class="op">=</span> <span class="st">"m"</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">geoElevation</span><span class="op">(</span></span>
<span>  <span class="va">lat</span>,</span>
<span>  lon <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  units <span class="op">=</span> <span class="st">"m"</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"google.elevation"</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">10</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">geoDestination</span><span class="op">(</span></span>
<span>  <span class="va">lat</span>,</span>
<span>  lon <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bearing <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  distance <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  units <span class="op">=</span> <span class="st">"m"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">geoConvertBNG2LatLon</span><span class="op">(</span><span class="va">east</span>, north <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span>, crs <span class="op">=</span> <span class="fl">27700</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">geoConvertLatLonDec2Deg</span><span class="op">(</span><span class="va">lat</span>, lon <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span>, format <span class="op">=</span> <span class="cn">NULL</span>, test <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-lat-lon">lat, lon<a class="anchor" aria-label="anchor" href="#arg-lat-lon"></a></dt>
<dd><p>Latitudes and longitudes to be used in geographical
calculations. Note: This can be supplied as two vectors or as a
list or data.frame containing lat and lon vectors.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments, currently ignored.</p></dd>


<dt id="arg-pair-lat-lon">pair.lat.lon<a class="anchor" aria-label="anchor" href="#arg-pair-lat-lon"></a></dt>
<dd><p>(Logical) Should <code>lat</code> and <code>lon</code>
be paired? If <code>TRUE</code> (as in default) <code>lat</code> and <code>lon</code>
series lengths are matched and extra values are discarded.</p></dd>


<dt id="arg-units">units<a class="anchor" aria-label="anchor" href="#arg-units"></a></dt>
<dd><p>(Character) The units that results should be reported in.
For, geoDistance, <code>geoElevation</code> and <code>geoDestination</code>,
the current options are (the default) <code>"m"</code> and <code>"km"</code>.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>(For <code>geoElevation</code>) the elevation method.
Currently, the only enabled option is <code>'google.elevation'</code>
which uses the Google Elevation API.</p></dd>


<dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>(For <code>geoElevation</code>) the single request size limit.
Some elevation data request methods cannot handle large numbers of
<code>lat, lon</code> at a go. So, where this is case <code>geoElevation</code>
generates and merges multiple requests. <code>n</code> sets the maximum
number of <code>lat, lon</code> per request.</p></dd>


<dt id="arg-bearing-distance">bearing, distance<a class="anchor" aria-label="anchor" href="#arg-bearing-distance"></a></dt>
<dd><p>(For <code>geoDestination</code>) the bearing
(relative to North) and distance to move from the start point
<code>lat</code>, <code>lon</code>.</p></dd>


<dt id="arg-east-north">east, north<a class="anchor" aria-label="anchor" href="#arg-east-north"></a></dt>
<dd><p>(For <code>geoConvertBNG2LatLon</code>)
Easting and Northing coordinates, respectively.</p></dd>


<dt id="arg-crs">crs<a class="anchor" aria-label="anchor" href="#arg-crs"></a></dt>
<dd><p>(For <code>geoConvertBNG2LatLon</code>) the
coordinate reference system for supplied <code>easting</code>
and <code>northing</code>, by default 27700, the EPSG code
for British National Grid coordinates.</p></dd>


<dt id="arg-format">format<a class="anchor" aria-label="anchor" href="#arg-format"></a></dt>
<dd><p>(For <code>geoConvertLatLonDev2Deg</code>) formatting for supplied
<code>lat</code> and <code>lon</code> assumed to be supplied in degrees (deg/min/sec)
format. The default <code>NULL</code> assumes <code>lat</code> and <code>lon</code> are not
formatted.</p></dd>


<dt id="arg-test">test<a class="anchor" aria-label="anchor" href="#arg-test"></a></dt>
<dd><p>(For <code>geoConvertLatLonDev2Deg</code>) test supplied <code>lat</code>
and <code>lon</code> coordinates before converting. This generates a WARNING only
if any look like a suspect case for conversion, e.g a <code>lat &gt; 90</code>,
<code>lon &gt; 180</code>, degrees &gt; 60, etc...</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>geoFrame</code> is data handler used by other geo...
functions. It returns a list containing the named components
<code>lat</code> and <code>lon</code>. if latitude, longitude pairing has
been applied <code>pair.lat.lon = TRUE</code> these components will
be the same length.</p>
<p><code>geoBearing</code> returns a vector of bearings for supplied lat, lon
combinations. NOTE: Bearings length will be one less than the length
number of lat (or lon) because bearings are measured prior point to
latter point.</p>
<p><code>geoDistance</code> returns a vector of distances between supplied lat,
lon points in a supplied series, so again one less the supplied number
of points. By default, this will be supplied in meters, but units can
be modified as part of the call using, e.g. <code>units = "km"</code> to get
distance(s) in kilometers.</p>
<p><code>geoElevation</code> returns a vector of elevations, one for each
lat, lon pair supplied. By default, this will be supplied in meters,
but units can be modified as part of the call using, e.g.
<code>units = "km"</code> to get elevations(s) in kilometers.</p>
<p><code>geoDestination</code> returns a list of named lat/lon pairs for
the path from the supplied lat/lon start point, assuming the
journey described by the supplied bearings and distance.</p>
<p><code>geoConvertBNG2LatLon</code> converts British National
Grid (BNG) Easting/Northing coordinates to (WGS84)
Latitude/Longitude coordinates.</p>
<p><code>geoConvertLatLonDeg2Dem</code> converts Latitude/Longitude coordinates
logged in degrees to decimal.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>All functions currently require or convert to
<code>lat</code> and <code>lon</code> in WGS84 coordinates and
conventional decimal format.</p>
<p><code>geoBearing</code> DETAILS NEEDED.</p>
<p><code>geoDistance</code> uses the haversine formula to account to the
Earth's surface curvature, and uses 6371 km as the radius of earth.</p>
<p><code>geoElevation</code> uses the Google elevation API to get elevations,
so required R to be internet enabled.</p>
<p><code>geoDestination</code> DETAILS NEEDED.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Karl Ropkins</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#example 1</span></span></span>
<span class="r-in"><span><span class="va">lat</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span></span></span>
<span class="r-in"><span><span class="va">lon</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span></span></span>
<span class="r-in"><span><span class="co">#get the distance point1 to point2, point2 to point2, etc.</span></span></span>
<span class="r-in"><span><span class="va">dist</span> <span class="op">&lt;-</span> <span class="fu">geoDistance</span><span class="op">(</span><span class="va">lat</span>, <span class="va">lon</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">#get the bearing point1 to point2, point2 to point2, etc.</span></span></span>
<span class="r-in"><span><span class="va">bear</span> <span class="op">&lt;-</span> <span class="fu">geoBearing</span><span class="op">(</span><span class="va">lat</span>, <span class="va">lon</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">#reconstruct the journey from start point,</span></span></span>
<span class="r-in"><span><span class="co">#using distances and bearings</span></span></span>
<span class="r-in"><span><span class="fu">geoDestination</span><span class="op">(</span><span class="va">lat</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="va">lon</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="va">bear</span>, <span class="va">dist</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $lat</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 1.000000 1.999797 2.999442 3.998935 4.998278 5.997470 6.996512 7.995407</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] 8.994155 9.992758</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $lon</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  1.000000  2.000203  3.000558  4.001066  5.001725  6.002536  7.003499</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8]  8.004613  9.005878 10.007293</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co">#(very nearly...)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Karl Ropkins.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

